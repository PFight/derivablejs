{"version":3,"sources":["../src/util.js","../src/transactions.js","../src/parents.js","../src/atom.js","../src/reactors.js","../src/derivable.js","../src/derivation.js","../src/mutable.js","../src/lens.js","../src/module.js","../src/epoch.js","../src/types.js"],"names":["assignPolyfill","obj","i","arguments","length","other","ks","keys","j","prop","_is","a","b","equals","addToArray","indexOf","push","removeFromArray","splice","nextId","_nextId","slice","Array","prototype","call","some","x","setDebugMode","val","DEBUG_MODE","setEquals","derivable","_equals","initiateAbortion","TransactionAbortion","TransactionContext","parent","this","id2txnAtom","globalEpoch","epoch","modifiedAtoms","inTransaction","currentCtx","transact","f","beginTransaction","e","abortTransaction","commitTransaction","transaction","result","args","util.slice","that","apply","ctx","reactorss","forEach","set","_id","_value","_set","_reactors","processReactors","ticker","_tickerRefCount","done","tick","Error","reset","release","reactors","throwing","r","_reacting","_maybeReact","capturingParentsEpochs","parentsStack","pop","captureParent","p","top","captureEpoch","idx","createPrototype","D","opts","_clone","util.setEquals","atom","value","transactions.currentCtx","inTxnThis","__equals","_epoch","txnCtx","newInTxnThis","util.addToArray","transactions.processReactors","get","parents.captureEpoch","parents.captureParent","_getEpoch","construct","util.nextId","_type","types.ATOM","_atoms","Reactor","react","_derivable","_parent","_active","_yielding","types.REACTION","_oldAtoms","util.DEBUG_MODE","stack","forEachAtom","atoms","fn","len","derive","c","d","derivation","unpack","map","RegExp","match","isDerivable","deriver","thing","concat","reactor","reactors.Reactor","util.assign","condDerivable","fOrD","name","once","from","until","when","skipFirst","stop","controller","onStart","onStop","struct","conds","isActive","start","force","is","lift","and","or","then","thenClause","elseClause","mThen","util.some","mOr","mDerive","arg","mAnd","not","withEquality","_deriver","_forceEval","newVal","capturedParentsEpochs","parents.capturingParentsEpochs","console","error","_lastParentsEpochs","parentAtoms","_update","_lastGlobalEpoch","util.unique","currentParentEpoch","parent_1","lastParentEpoch","types.DERIVATION","_","swap","lens","monoLensDescriptor","_lensDescriptor","atomically","descriptor","types.LENS","constructModule","config","deepUnpack","constructor","Object","util.keys","andOrFn","breakOn","identity","complement","defaultConfig","transactions.transact","defaultEquals","util.equals","util.setDebugMode","transactions.transaction","transactions.ticker","isAtom","isDerivation","isLensed","isReactor","Derivable","derivable.createPrototype","Mutable","mutable.createPrototype","Atom","atom.createPrototype","Derivation","derivation.createPrototype","Lens","lens.createPrototype","atom.construct","create","atomic","transactions.inTransaction","derivation.construct","parts","s","lens.construct","assign","unique","freeze","ATOM","DERIVATION","LENS","REACTION","reactorParentStack","_lastValue","_lastEpoch","_force","nextValue","thisAtom","util.removeFromArray","orphan","adopt","child","exports"],"mappings":"YAEA,SAAgBA,GAAgBC,GAC9B,IAAK,GAAIC,GAAI,EAAOC,UAAUC,OAAdF,EAAsBA,IAGpC,IAAK,GAFDG,GAAQF,UAAUD,GAClBI,EAAKC,EAAKF,OACLG,EAAIF,EAAGF,OAAQI,KAAM,CAC5B,GAAIC,GAAOH,EAAGE,EACdP,GAAIQ,GAAQJ,EAAMI,GAGtB,MAAOR,GAST,QAASS,GAAIC,EAAGC,GAEd,MAAID,KAAMC,EAEK,IAAND,GAAW,EAAIA,IAAM,EAAIC,EAGzBD,IAAMA,GAAKC,IAAMA,EAI5B,QAAgBC,GAAQF,EAAGC,GACzB,MAAOF,GAAIC,EAAGC,IAAOD,GAAyB,kBAAbA,GAAEE,QAAyBF,EAAEE,OAAOD,GAGvE,QAAgBE,GAAYH,EAAGC,GAC7B,GAAIV,GAAIS,EAAEI,QAAQH,EACV,GAAJV,GACFS,EAAEK,KAAKJ,GAIX,QAAgBK,GAAiBN,EAAGC,GAClC,GAAIV,GAAIS,EAAEI,QAAQH,EACdV,IAAK,GACPS,EAAEO,OAAOhB,EAAG,GAKhB,QAAgBiB,KACd,MAAOC,KAGT,QAAgBC,GAAOV,EAAGT,GACxB,MAAOoB,OAAMC,UAAUF,MAAMG,KAAKb,EAAGT,GAKvC,QAAgBuB,GAAMC,GACpB,MAAc,QAANA,GAAsB,SAANA,EAI1B,QAAgBC,GAAcC,GAC5BC,IAAeD,EAGjB,QAAgBE,GAAWC,EAAWlB,GAEpC,MADAkB,GAAUC,QAAUnB,EACbkB,EClET,QAASE,KACP,KAAMC,GAGR,QAASC,GAAmBC,GAC1BC,KAAKD,OAASA,EACdC,KAAKC,cACLD,KAAKE,YAAcC,EAAMD,YACzBF,KAAKI,iBAKP,QAAgBC,KACd,MAAsB,QAAfC,EAGT,QAAgBC,GAAUC,GACxBC,GACA,KACED,EAAErB,KAAK,KAAMS,GAEf,MAAOc,GAEL,GADAC,IACID,IAAMb,EACR,KAAMa,EAER,QAEFE,IAGF,QAAgBC,GAAaL,GAC3B,MAAO,YACL,GAEIM,GAFAC,EAAOC,EAAWlD,UAAW,GAC7BmD,EAAOjB,IAKX,OAHAO,GAAS,WACPO,EAASN,EAAEU,MAAMD,EAAMF,KAElBD,GAIX,QAASL,KACPH,EAAa,GAAIR,GAAmBQ,GAGtC,QAASM,KACP,GAAIO,GAAMb,CACVA,GAAaa,EAAIpB,MACjB,IAAIqB,KACJD,GAAIf,cAAciB,QAAQ,SAAU/C,GACf,OAAfgC,EACFhC,EAAEgD,IAAIH,EAAIlB,WAAW3B,EAAEiD,KAAKC,SAG5BlD,EAAEmD,KAAKN,EAAIlB,WAAW3B,EAAEiD,KAAKC,QAC7BJ,EAAUzC,KAAKL,EAAEoD,cAGF,OAAfpB,EACFH,EAAMD,YAAciB,EAAIjB,YAExBI,EAAWJ,YAAciB,EAAIjB,YAE/BkB,EAAUC,QAAQM,GAGpB,QAAShB,KACP,GAAIQ,GAAMb,CACVA,GAAaa,EAAIpB,OACE,OAAfO,EACFH,EAAMD,YAAciB,EAAIjB,YAAc,EAGtCI,EAAWJ,YAAciB,EAAIjB,YAAc,EAM/C,QAAgB0B,KACU,IAApBC,GACFpB,IAEFoB,GACA,IAAIC,IAAO,CACX,QACEC,KAAM,WACJ,GAAID,EAAM,KAAM,IAAIE,OAAM,qCAC1BpB,KACAH,KAEFwB,MAAO,WACL,GAAIH,EAAM,KAAM,IAAIE,OAAM,qCAC1BrB,KACAF,KAEFyB,QAAS,WACP,GAAIJ,EAAM,KAAM,IAAIE,OAAM,0BAC1BH,KACAC,GAAO,EACiB,IAApBD,GACFjB,MAMR,QAAgBe,GAAgBQ,EAAUC,GACxC,IAAK,GAAIvE,GAAI,EAAOsE,EAASpE,OAAbF,GAAsB,CACpC,GAAIwE,GAAIF,EAAStE,EACjB,IAAIwE,EAAEC,WAAaF,KAAa,EAC9B,KAAM,IAAIJ,OAAM,4BAEhBK,GAAEE,cAGAF,IAAMF,EAAStE,IACjBA,KC3HN,QAAgB2E,GAAwBhC,GACtC,GAAI3C,GAAI4E,EAAa1E,MACrB0E,GAAa9D,QACb,KAEE,MADA6B,KACOiC,EAAa5E,GACrB,QACC4E,EAAaC,OAIjB,QAAgBC,GAAeC,GAC7B,GAAIH,EAAa1E,OAAS,EAAG,CAC3B,GAAI8E,GAAMJ,EAAaA,EAAa1E,OAAS,EAE7C,OADA8E,GAAIlE,KAAKiE,EAAG,GACLC,EAAI9E,OAAO,EAElB,MAAO,GAIX,QAAgB+E,GAAcC,EAAK5C,GAC7BsC,EAAa1E,OAAS,IACxB0E,EAAaA,EAAa1E,OAAS,GAAGgF,GAAO5C,GCnB1C,QAAS6C,GAAiBC,EAAGC,GAClC,OACEC,OAAQ,WACN,MAAOC,GAAeH,EAAEI,KAAKrD,KAAKwB,QAASxB,KAAKL,UAGlD2B,IAAK,SAAUgC,GACb,GAAgC,OAA5BC,EAAkC;AAEpC,GAAIC,GAAYD,EAAwBtD,WAAWD,KAAKuB,IACxD,IAAiB,MAAbiC,EAEGxD,KAAKyD,SAASH,EAAOE,EAAUhC,UAClCgC,EAAUE,SACVH,EAAwBrD,eAE1BsD,EAAUhC,OAAS8B,MACd,CAGL,IADA,GAAIK,GAASJ,EAAwBxD,OACnB,OAAX4D,GAAiB,CAEtB,GADAH,EAAYG,EAAO1D,WAAWD,KAAKuB,KACjB,SAAdiC,EAAsB,CAExB,IAAKxD,KAAKyD,SAASD,EAAUhC,OAAQ8B,GAAQ,CAC3C,GAAIM,GAAeJ,EAAUL,QAC7BS,GAAarC,IAAMvB,KAAKuB,IACxBqC,EAAapC,OAAS8B,EACtBM,EAAaF,OAASF,EAAUE,OAAS,EACzCH,EAAwBrD,cACxBqD,EAAwBtD,WAAWD,KAAKuB,KAAOqC,EAC/CC,EAAgBN,EAAwBnD,cAAeJ,MAEzD,OAEA2D,EAASA,EAAO5D,OAIpBwD,EAAwBrD,cACxBsD,EAAYxD,KAAKmD,SACjBK,EAAUhC,OAAS8B,EACnBE,EAAUjC,IAAMvB,KAAKuB,IACrBiC,EAAUE,OAAS1D,KAAK0D,OAAS,EACjCH,EAAwBtD,WAAWD,KAAKuB,KAAOiC,EAC/CK,EAAgBN,EAAwBnD,cAAeJ,WAIpDA,MAAKyD,SAASH,EAAOtD,KAAKwB,UAC7BxB,KAAKyB,KAAK6B,GACVQ,EAA6B9D,KAAK0B,WAAW,KAKnDD,KAAM,SAAU6B,GACdnD,EAAMD,cACNF,KAAK0D,SACL1D,KAAKwB,OAAS8B,GAGhBS,IAAK,WAGH,IAFA,GAAIP,GACAG,EAASJ,EACK,OAAXI,GAAiB,CAEtB,GADAH,EAAYG,EAAO1D,WAAWD,KAAKuB,KACjB,SAAdiC,EAEF,MADAQ,GAAqBC,EAAsBjE,MAAOwD,EAAUE,QACrDF,EAAUhC,MAGjBmC,GAASA,EAAO5D,OAIpB,MADAiE,GAAqBC,EAAsBjE,MAAOA,KAAK0D,QAChD1D,KAAKwB,QAGd0C,UAAW,WAGT,IAFA,GAAIV,GACAG,EAASJ,EACK,OAAXI,GAAiB,CAEtB,GADAH,EAAYG,EAAO1D,WAAWD,KAAKuB,KACjB,SAAdiC,EACF,MAAOA,GAAUE,MAGjBC,GAASA,EAAO5D,OAGpB,MAAOC,MAAK0D,SAKlB,QAAgBS,GAAWd,EAAMC,GAQ/B,MAPAD,GAAK9B,IAAM6C,IACXf,EAAK3B,aACL2B,EAAKK,OAAS,EACdL,EAAK7B,OAAS8B,EACdD,EAAKgB,MAAQC,EACbjB,EAAK1D,QAAU,KACf0D,EAAKkB,QAAUlB,GACRA,ECzGT,QAAgBmB,GAAQC,EAAO/E,GAC7BM,KAAK0E,WAAahF,EACd+E,IACFzE,KAAKyE,MAAQA,GAEfzE,KAAK2E,QAAU,KACf3E,KAAK4E,SAAU,EACf5E,KAAK6E,WAAY,EACjB7E,KAAKsC,WAAY,EACjBtC,KAAKqE,MAAQS,EACb9E,KAAKuE,UACLvE,KAAK+E,aAEDC,IACFhF,KAAKiF,MAAQjD,QAAQiD,OAIzB,QAASC,GAAYC,EAAOC,GAC1B,GAAa,MAATD,EACF,GAAIA,EAAMd,QAAUC,EAClBc,EAAGD,OAEH,KAAK,GAAItH,GAAI,EAAGwH,EAAMF,EAAMpH,OAAYsH,EAAJxH,EAASA,IAC3CqH,EAAYC,EAAMtH,GAAIuH,GC1BvB,QAASpC,GAAiBC,EAAGC,GAClC,GAAI7D,IAKFiG,OAAQ,SAAU9E,EAAGlC,EAAGC,EAAGgH,EAAGC,GAC5B,GAAIvE,GAAOjB,IACX,QAAQlC,UAAUC,QAClB,IAAK,GACH,KAAM,IAAIiE,OAAM,sCAClB,KAAK,GACH,aAAexB,IACb,IAAK,WACH,MAAOyC,GAAEwC,WAAW,WAClB,MAAOjF,GAAES,EAAK8C,QAElB,KAAK,SACL,IAAK,SACH,MAAOd,GAAEwC,WAAW,WAClB,MAAOxE,GAAK8C,MAAMd,EAAEyC,OAAOlF,KAE/B,SACE,GAAIA,YAAavB,OACf,MAAOuB,GAAEmF,IAAI,SAAUtG,GACrB,MAAO4B,GAAKqE,OAAOjG,IAEhB,IAAImB,YAAaoF,QACtB,MAAO3C,GAAEwC,WAAW,WAClB,MAAOxE,GAAK8C,MAAM8B,MAAMrF,IAErB,IAAIyC,EAAE6C,YAAYtF,GACvB,MAAOyC,GAAEwC,WAAW,WAClB,GAAIM,GAAUvF,EAAEuD,MACZiC,EAAQ/E,EAAK8C,KACjB,cAAegC,IACb,IAAK,WACH,MAAOA,GAAQC,EACjB,KAAK,SACL,IAAK,SACH,MAAOA,GAAMD,EACf,SACE,GAAIA,YAAmBH,QACrB,MAAOI,GAAMH,MAAME,EAEnB,MAAM/D,OAAM,gBAKpB,MAAMA,OAAM;CAGpB,IAAK,GACH,MAAOiB,GAAEwC,WAAW,WAClB,MAAOjF,GAAES,EAAK8C,MAAOd,EAAEyC,OAAOpH,KAElC,KAAK,GACH,MAAO2E,GAAEwC,WAAW,WAClB,MAAOjF,GAAES,EAAK8C,MAAOd,EAAEyC,OAAOpH,GAAI2E,EAAEyC,OAAOnH,KAE/C,KAAK,GACH,MAAO0E,GAAEwC,WAAW,WAClB,MAAOjF,GAAES,EAAK8C,MACLd,EAAEyC,OAAOpH,GACT2E,EAAEyC,OAAOnH,GACT0E,EAAEyC,OAAOH,KAEtB,KAAK,GACH,MAAOtC,GAAEwC,WAAW,WAClB,MAAOjF,GAAES,EAAK8C,MACLd,EAAEyC,OAAOpH,GACT2E,EAAEyC,OAAOnH,GACT0E,EAAEyC,OAAOH,GACTtC,EAAEyC,OAAOF,KAEtB,SACE,GAAIzE,IAASE,GAAOgF,OAAOjF,EAAWlD,UAAW,GACjD,OAAOmF,GAAEwC,WAAW,WAClB,MAAOjF,GAAEU,MAAM,KAAMH,EAAK4E,IAAI1C,EAAEyC,aAOtCQ,QAAS,SAAU1F,GACjB,GAAiB,kBAANA,GACT,MAAO,IAAI2F,GAAiB3F,EAAGR,KAC1B,IAAIQ,YAAa2F,GAAkB,CACxC,GAAuB,kBAAZ3F,GAAEiE,MACX,KAAM,IAAIzC,OAAM,gCAGlB,OADAxB,GAAEkE,WAAa1E,KACRQ,EACF,GAAIA,GAAKA,EAAEiE,MAChB,MAAO2B,GAAY,GAAID,GAAiB,KAAMnG,MAAOQ,EAErD,MAAM,IAAIwB,OAAM,iCAAmCxB,IAIvDiE,MAAO,SAAUjE,EAAG0C,GAclB,QAASmD,GAAcC,EAAMC,GAC3B,IAAKtD,EAAE6C,YAAYQ,GACjB,GAAoB,kBAATA,GACTA,EAAOrD,EAAEwC,WAAWa,OACf,CAAA,GAAoB,iBAATA,GAGhB,KAAMtE,OAAM,SAAWuE,EAAO,+BAF9BD,GAAOrD,EAAEI,KAAKiD,GAKlB,MAAOA,GAvBT,GAAiB,kBAAN9F,GACT,KAAMwB,OAAM,kDAGdkB,GAAOkD,GACLI,MAAM,EACNC,MAAM,EACNC,OAAO,EACPC,MAAM,EACNC,WAAW,GACV1D,EAkBH,IAAIgD,GAAUlG,KAAKkG,SACjBzB,MAAO,SAAUlF,GACX2D,EAAK0D,UACP1D,EAAK0D,WAAY,GAEjBpG,EAAEjB,GACE2D,EAAKsD,OACPxG,KAAK6G,OACLC,EAAWD,UAIjBE,QAAS7D,EAAK6D,QACdC,OAAQ9D,EAAK8D,SAMXF,EAAa7D,EAAEgE,QACjBP,MAAOL,EAAcnD,EAAKwD,MAAO,SACjCC,KAAMN,EAAcnD,EAAKyD,KAAM,UAC9BT,QAAQ,SAAUgB,GACfA,EAAMR,OACRR,EAAQW,OACR7G,KAAK6G,QACIK,EAAMP,KACVT,EAAQiB,YACXjB,EAAQkB,QAAQC,QAETnB,EAAQiB,YACjBjB,EAAQW,QAMZR,GAAcnD,EAAKuD,KAAM,QAAQP,QAAQ,SAAUO,GAC7CA,IACFK,EAAWM,QAAQC,QACnBrH,KAAK6G,UAENO,QAAQC,SAGbC,GAAI,SAAUtJ,GACZ,MAAOiF,GAAEsE,KAAKvH,KAAKL,SAAWuD,EAAK1E,QAAQwB,KAAMhC,IAGnDwJ,IAAK,SAAUxJ,GACb,MAAOgC,MAAKsF,OAAO,SAAUjG,GAAI,MAAOA,IAAK4D,EAAEyC,OAAO1H,MAGxDyJ,GAAI,SAAUzJ,GACZ,MAAOgC,MAAKsF,OAAO,SAAUjG,GAAI,MAAOA,IAAK4D,EAAEyC,OAAO1H,MAGxD0J,KAAM,SAAUC,EAAYC,GAC1B,MAAO5H,MAAKsF,OAAO,SAAUjG,GAC3B,MAAO4D,GAAEyC,OAAOrG,EAAIsI,EAAaC,MAIrCC,MAAO,SAAUF,EAAYC,GAC3B,MAAO5H,MAAKsF,OAAO,SAAUjG,GAC3B,MAAO4D,GAAEyC,OAAOoC,EAAUzI,GAAKsI,EAAaC,MAIhDG,IAAK,SAAU/J,GACb,MAAOgC,MAAK6H,MAAM7H,KAAMhC,IAG1BgK,QAAS,SAAUC,GACjB,GAAyB,IAArBnK,UAAUC,QAAgBkK,YAAehJ,OAAO,CAClD,GAAIgC,GAAOjB,IACX,OAAOiI,GAAItC,IAAI,SAAUrH,GAAK,MAAO2C,GAAK+G,QAAQ1J,KAElD,MAAO0B,MAAK6H,MAAM7H,KAAKsF,OAAOpE,MAAMlB,KAAMlC;EAI9CoK,KAAM,SAAUlK,GACd,MAAOgC,MAAK6H,MAAM7J,EAAOgC,OAG3BmI,IAAK,WACH,MAAOnI,MAAKsF,OAAO,SAAUjG,GAAK,OAAQA,KAG5C+I,aAAc,SAAU5J,GACtB,GAAIA,GACF,GAAsB,kBAAXA,GACT,KAAM,IAAIwD,OAAM,+BAGlBxD,GAAS,IAGX,OAAO4E,GAAepD,KAAKmD,SAAU3E,IAGvCiF,SAAU,SAAUnF,EAAGC,GACrB,OAAQyB,KAAKL,SAAWuD,EAAK1E,QAAQF,EAAGC,IAmB5C,OAfAc,GAAAA,UAAW,WACT,GAAI0B,GAAOjD,SACX,OAAOkC,MAAKsF,OAAO,SAAUjG,GAC3B,GAAIxB,EACJ,KAAKA,EAAI,EAAOkD,EAAKhD,OAAO,EAAhBF,EAAmBA,GAAG,EAChC,GAAIqF,EAAK1E,OAAOa,EAAG4D,EAAEyC,OAAO3E,EAAKlD,KAC/B,MAAOoF,GAAEyC,OAAO3E,EAAKlD,EAAE,GAG3B,OAAIA,KAAMkD,EAAKhD,OAAS,EACfkF,EAAEyC,OAAO3E,EAAKlD,IADvB,UAMGwB,EC1PF,QAAS2D,GAAiBC,EAAGC,GAClC,OACEC,OAAQ,WACN,MAAOC,GAAeH,EAAEwC,WAAWzF,KAAKqI,UAAWrI,KAAKL,UAG1D2I,WAAY,WACV,GAAIrH,GAAOjB,KACPuI,EAAS,KACTC,EAAwBC,EAA+B,WACzD,GAAKzD,EAGH,IACEuD,EAAStH,EAAKoH,WACd,MAAO3H,GAEP,KADAgI,SAAQC,MAAM1H,EAAKgE,OACbvE,MANR6H,GAAStH,EAAKoH,YAWbrI,MAAKyD,SAAS8E,EAAQvI,KAAKwB,SAC9BxB,KAAK0D,SAGP1D,KAAK4I,mBAAqBJ,EAC1BxI,KAAKuE,OAAOxG,OAAUiC,KAAK4I,mBAAmB7K,OAAS,EAAK,CAC5D,KAAK,GAAIF,GAAI,EAAGwH,EAAMrF,KAAKuE,OAAOxG,OAAYsH,EAAJxH,EAASA,GAAK,EAAG,CACzD,GAAIgL,GAAc7I,KAAK4I,mBAAqB,EAAF/K,GAAK0G,MAC/C,QAAQsE,EAAY9K,QACpB,IAAK,GACHiC,KAAKuE,OAAO1G,GAAK,IACjB,MACF,KAAK,GACHmC,KAAKuE,OAAO1G,GAAKgL,EAAY,EAC7B,MACF,SACE7I,KAAKuE,OAAO1G,GAAKgL,GAGrB7I,KAAKwB,OAAS+G,GAGhBO,QAAS,WACP,GAAI5I,GAA0C,OAA5BqD,EACCpD,EAAMD,YACNqD,EAAwBrD,WAC3C,IAAIF,KAAK+I,mBAAqB7I,EAAa,CACzC,GAAIF,KAAKwB,SAAWwH,EAElBhJ,KAAKsI,iBAEL,KAAK,GAAIzK,GAAI,EAAGwH,EAAMrF,KAAK4I,mBAAmB7K,OAAYsH,EAAJxH,EAASA,GAAK,EAAG,CACrE,GAEIoL,GAFAC,EAAWlJ,KAAK4I,mBAAmB/K,GACnCsL,EAAkBnJ,KAAK4I,mBAAmB/K,EAAI,EAQlD,IANIqL,EAAS7E,QAAUC,EACrB2E,EAAqBC,EAAShF,aAE9BgF,EAASJ,UACTG,EAAqBC,EAASxF,QAE5BuF,IAAuBE,EAEzB,WADAnJ,MAAKsI,aAKXtI,KAAK+I,iBAAmB7I,IAI5B6D,IAAK,WACH,GAAIhB,GAAMkB,EAAsBjE,KAGhC,OAFAA,MAAK8I,UACL9E,EAAqBjB,EAAK/C,KAAK0D,QACxB1D,KAAKwB,SAKlB,QAAgB2C,GAAWvG,EAAKmI,GAc9B,MAbAnI,GAAIyK,SAAWtC,EACfnI,EAAIgL,sBACJhL,EAAImL,iBAAmB5I,EAAMD,YAAc,EAC3CtC,EAAI8F,OAAS,EACb9F,EAAIyG,MAAQ+E,EACZxL,EAAI4D,OAASwH,EACbpL,EAAI+B,QAAU,KACd/B,EAAI2G,UAEAS,IACFpH,EAAIqH,MAAQjD,QAAQiD,OAGfrH,ECpGF,QAASoF,GAAiBC,EAAGoG,GAClC,OACEC,KAAM,SAAU9I,GACd,GAAIO,GAAOC,EAAWlD,UAAW,EAEjC,OADAiD,GAAK,GAAKf,KAAK+D,MACR/D,KAAKsB,IAAId,EAAEU,MAAM,KAAMH,KAEhCwI,KAAM,SAAUC,GACd,GAAIvI,GAAOjB,IACX,OAAOiD,GAAEsG,MACPxF,IAAK,WACH,MAAOyF,GAAmBzF,IAAI9C,EAAK8C,QAErCzC,IAAK,SAAU/B,GACb0B,EAAKK,IAAIkI,EAAmBlI,IAAIL,EAAK8C,MAAOxE,SCZ/C,QAASyD,GAAiBC,EAAGoG,GAClC,OACElG,OAAQ,WACN,MAAOC,GAAeH,EAAEsG,KAAKvJ,KAAKyJ,iBAAkBzJ,KAAKL;AAG3D2B,IAAK,SAAUgC,GACb,GAAIrC,GAAOjB,IAIX,OAHAiD,GAAEyG,WAAW,WACXzI,EAAKwI,gBAAgBnI,IAAIgC,KAEpBtD,OAKb,QAAgBmE,GAAWsB,EAAYkE,GAIrC,MAHAlE,GAAWgE,gBAAkBE,EAC7BlE,EAAWpB,MAAQuF,EAEZnE,ECZT,QAASoE,GAAiBC,GA+HxB,QAASC,GAAY/D,GACnB,GAAI/C,EAAE6C,YAAYE,GAChB,MAAOA,GAAMjC,KACR,IAAIiC,YAAiB/G,OAC1B,MAAO+G,GAAML,IAAIoE,EACZ,IAAI/D,EAAMgE,cAAgBC,OAAQ,CAGvC,IAAK,GAFDnJ,MACA5C,EAAOgM,EAAUlE,GACZnI,EAAIK,EAAKH,OAAQF,KAAM,CAC9B,GAAIO,GAAOF,EAAKL,EAChBiD,GAAO1C,GAAQ2L,EAAW/D,EAAM5H,IAElC,MAAO0C,GAEP,MAAOkF,GAcX,QAASmE,GAASC,GAChB,MAAO,YACL,GAAIrJ,GAAOjD,SACX,OAAOmF,GAAEwC,WAAW,WAElB,IAAK,GADDlG,GACK1B,EAAI,EAAOkD,EAAKhD,OAATF,IACd0B,EAAM0D,EAAEyC,OAAO3E,EAAKlD,KAChBuM,EAAQ7K,IAFmB1B,KAMjC,MAAO0B,MAIb,QAAS8K,GAAUhL,GAAK,MAAOA,GAC/B,QAASiL,GAAY9J,GAAK,MAAO,UAAUnB,GAAK,OAAQmB,EAAEnB,IA1K1DyK,EAAS1D,KAAgBmE,EAAeT,MAExC,IAAI7G,IACF1C,SAAUiK,EACVC,cAAeC,EACfpL,aAAcqL,EACd9J,YAAa+J,EACbhJ,OAAQiJ,EACRrG,QAAS2B,EACT2E,OAAQ,SAAUzL,GAChB,MAAOA,KAAMA,EAAEgF,QAAUC,GAAcjF,EAAEgF,QAAUuF,IAErD9D,YAAa,SAAUzG,GACrB,MAAOA,KAAMA,EAAEgF,QAAUC,GACZjF,EAAEgF,QAAUuF,GACZvK,EAAEgF,QAAU+E,IAE3B2B,aAAc,SAAU1L,GACtB,MAAOA,KAAMA,EAAEgF,QAAU+E,GAAoB/J,EAAEgF,QAAUuF,IAE3DoB,SAAU,SAAU3L,GAClB,MAAOA,IAAKA,EAAEgF,QAAUuF,GAE1BqB,UAAW,SAAU5L,GACnB,MAAOA,IAAKA,EAAEgF,QAAUS,IAIxBoG,EAAaC,EAA0BlI,EAAG6G,GAC1CsB,EAAaC,EAAwBpI,EAAG6G,GAExCwB,EAAalF,KAAgBgF,EAASF,EACbK,EAAqBtI,EAAG6G,IAEjD0B,EAAapF,KAAgB8E,EACJO,EAA2BxI,EAAG6G,IAEvD4B,EAAatF,KAAgBgF,EAASI,EACdG,EAAqB1I,EAAG6G,GA0IpD,OApIA7G,GAAEI,KAAO,SAAU9D,GACjB,MAAOqM,GAAe3B,OAAO4B,OAAOP,GAAO/L,IAM7C0D,EAAE6I,OAAS,SAAUtL,GACnB,MAAO,YACL,GAAIM,GACAG,EAAOjB,KACPe,EAAOjD,SAIX,OAHAmF,GAAEyG,WAAW,WACX5I,EAASN,EAAEU,MAAMD,EAAMF,KAElBD,IAIXmC,EAAEyG,WAAa,SAAUlJ,GACnBuL,IACFvL,IAEAyC,EAAE1C,SAASC,IAIfyC,EAAEwC,WAAa,SAAUjF,GACvB,MAAOwL,GAAqB/B,OAAO4B,OAAOL,GAAahL,IAMzDyC,EAAEqC,OAAS,SAAU2G,GACnB,GAAIlL,GAAOC,EAAWlD,UAAW,EACjC,OAAOmF,GAAEwC,WAAW,WAElB,IAAK,GADDyG,GAAI,GACCrO,EAAE,EAAOoO,EAAMlO,OAAVF,EAAkBA,IAC9BqO,GAAKD,EAAMpO,GACHkD,EAAKhD,OAATF,IACFqO,GAAKjJ,EAAEyC,OAAO3E,EAAKlD,IAGvB,OAAOqO,MAOXjJ,EAAEsG,KAAO,SAAUI,GACjB,MAAOwC,GACLH,EAAqB/B,OAAO4B,OAAOH,GAAO/B,EAAW5F,KACrD4F,IAOJ1G,EAAEyC,OAAS,SAAUM,GACnB,MAAI/C,GAAE6C,YAAYE,GACTA,EAAMjC,MAENiC,GAOX/C,EAAEsE,KAAO,SAAU/G,GACjB,MAAO,YACL,GAAIO,GAAOjD,UACPmD,EAAOjB,IACX,OAAOiD,GAAEwC,WAAW,WAClB,MAAOjF,GAAEU,MAAMD,EAAMhC,MAAMC,UAAUyG,IAAIxG,KAAK4B,EAAMkC,EAAEyC,aAuB5DzC,EAAEgE,OAAS,SAAUgB,GACnB,GAAIA,EAAI+B,cAAgBC,QAAUhC,YAAehJ,OAC/C,MAAOgE,GAAEwC,WAAW,WAClB,MAAOsE,GAAW9B,IAGpB,MAAM,IAAIjG,OAAM,2CAqBpBiB,EAAEwE,GAAK0C,EAAQE,GACfpH,EAAE8E,IAAMoC,EAAQrC,GAChB7E,EAAEuE,IAAM2C,EAAQG,EAAWD,IAC3BpH,EAAEiF,KAAOiC,EAAQG,EAAWxC,IAErB7E,ET7LF,GAAI/E,GAAO+L,OAAO/L,KAcdkO,EAASnC,OAAOmC,MAEtBA,KACHA,EAASzO,EAgCX,IAAIoB,GAAU,EASHsN,EAASpC,OAAOqC,QAAQ9N,OAAQ,WAAc,OAAO,KAMrDgB,GAAa;AUhERU,YAAa,GTGzBL,KAaOS,EAAa,KAqEpBuB,EAAkB,ECrFlBY,KSAO8J,EAAO,OACPC,EAAa,aACbC,EAAO,OACPC,EAAW,WPAlBC,IAgCJvG,GAAY5B,EAAQtF,WAClBkI,MAAO,WACLpH,KAAK4M,WAAa5M,KAAK0E,WAAWX,MAClC/D,KAAK6M,WAAa7M,KAAK0E,WAAWhB,MAElC,IAAIzC,GAAOjB,IACXkF,GAAYlF,KAAK0E,WAAWH,OAAQ,SAAUlB,GAC5CQ,EAAgBR,EAAK3B,UAAWT,GAChC4C,EAAgB5C,EAAKsD,OAAQlB,IAG/B,IAAIgC,GAAMsH,EAAmB5O,MAM7B,OALIsH,GAAM,IACRrF,KAAK2E,QAAUgI,EAAmBtH,EAAM,IAE1CrF,KAAK4E,SAAU,EACf5E,KAAK+G,SAAW/G,KAAK+G,UACd/G,MAET8M,OAAQ,SAAUC,GAChB,IACEJ,EAAmBhO,KAAKqB,MACxBA,KAAKsC,WAAY,EACjBtC,KAAKyE,MAAMsI,GAEX,MAAOrM,GAIP,KAHIsE,IACF0D,QAAQC,MAAM3I,KAAKiF,OAEfvE,EACP,QACCV,KAAKsC,WAAY,EACjBqK,EAAmBjK,QAGvB2E,MAAO,WAGL,MAFArH,MAAK8M,OAAO9M,KAAK0E,WAAWX,OAErB/D,MAETuC,YAAa,WACX,IAAKvC,KAAKsC,WAAatC,KAAK4E,QAAS,CACnC,GAAI5E,KAAK6E,UACP,KAAM7C,OAAM,oCAEd,IAAqB,OAAjBhC,KAAK2E,QAAkB,CACzB3E,KAAK6E,WAAY,CACjB,KACE7E,KAAK2E,QAAQpC,cACd,QACCvC,KAAK6E,WAAY,GAIrB,GAAI7E,KAAK4E,QAAS,CAChB,GAAImI,GAAY/M,KAAK0E,WAAWX,KAC5B/D,MAAK0E,WAAWhB,SAAW1D,KAAK6M,YAC/B7M,KAAK0E,WAAWjB,SAASsJ,EAAW/M,KAAK4M,aAC5C5M,KAAK8M,OAAOC,GAKd/M,KAAK6M,WAAa7M,KAAK0E,WAAWhB,OAClC1D,KAAK4M,WAAaG,CAElB,IAAIlP,GAAI,EACJoD,EAAOjB,IACXkF,GAAYlF,KAAK0E,WAAWH,OAAQ,SAAUlB,GAC5C,GAAI2J,GAAW/L,EAAKsD,OAAO1G,EACvBmP,KAAa3J,IACC,MAAZ2J,GACFC,EAAqBD,EAAStL,UAAWT,GAE3CA,EAAKsD,OAAO1G,GAAKwF,EACjBQ,EAAgBR,EAAK3B,UAAWT,IAElCpD,MAEFmC,KAAKuE,OAAOxG,OAASF,KAI3BgJ,KAAM,WACJ,GAAI5F,GAAOjB,IAQX,OAPAA,MAAKuE,OAAOlD,QAAQ,SAAUgC,GAC5B4J,EAAqB5J,EAAK3B,UAAWT,KAEvCjB,KAAKuE,OAAOxG,OAAS,EACrBiC,KAAK2E,QAAU,KACf3E,KAAK4E,SAAU,EACf5E,KAAKgH,QAAUhH,KAAKgH,SACbhH,MAETkN,OAAQ,WAEN,MADAlN,MAAK2E,QAAU,KACR3E,MAETmN,MAAO,SAAUC,GAEf,MADAA,GAAMzI,QAAU3E,KACTA,MAETmH,SAAU,WACR,MAAOnH,MAAK4E,UKhIhB,IAAI2F,IAAkB/L,OAAQkM,EAsL9BtE,GAAYiH,QAASxD,KACrBwD,QAAQjF,aAAe,SAAU5J,GAC/B,MAAOqL,IAAiBrL,OAAQA,KAElC6O,QAAQ,WAAaA","file":"dist/derivable.min.js.map"}