{"version":3,"sources":["../src/util.js","../src/transactions.js","../src/parents.js","../src/atom.js","../src/reactors.js","../src/derivable.js","../src/derivation.js","../src/mutable.js","../src/lens.js","../src/module.js","../src/epoch.js","../src/types.js"],"names":["assignPolyfill","obj","i","arguments","length","other","ks","keys","j","prop","_is","a","b","equals","addToArray","indexOf","push","removeFromArray","splice","nextId","_nextId","slice","Array","prototype","call","some","x","setDebugMode","val","DEBUG_MODE","setEquals","derivable","_equals","initiateAbortion","TransactionAbortion","TransactionContext","parent","this","id2txnAtom","globalEpoch","epoch","modifiedAtoms","inTransaction","currentCtx","transact","f","beginTransaction","e","abortTransaction","commitTransaction","transaction","result","args","util.slice","that","apply","ctx","reactors","numReactors","forEach","set","_id","_value","_set","findReactors","_activeChildren","r","_maybeReact","children","len","child","_type","types.REACTOR","ticker","_tickerRefCount","done","tick","Error","reset","release","capturingParentsEpochs","parentsStack","pop","captureParent","p","top","captureEpoch","idx","createPrototype","D","opts","_clone","util.setEquals","atom","value","transactions.currentCtx","inTxnThis","__equals","_epoch","txnCtx","newInTxnThis","util.addToArray","_reactorBuffer","transactions.findReactors","_reacting","get","parents.captureEpoch","parents.captureParent","_getEpoch","_unlisten","_listen","construct","util.nextId","types.ATOM","_atoms","Reactor","react","_derivable","_parent","_active","_yielding","util.DEBUG_MODE","stack","derive","c","d","derivation","unpack","map","RegExp","match","isDerivable","deriver","thing","concat","reactor","reactors.Reactor","util.assign","condDerivable","fOrD","name","once","from","until","when","skipFirst","stop","controller","onStart","onStop","struct","conds","isActive","start","force","is","lift","and","or","then","thenClause","elseClause","mThen","util.some","mOr","mDerive","arg","mAnd","not","withEquality","_deriver","_forceEval","newVal","capturedParentsEpochs","parents.capturingParentsEpochs","console","error","_refCount","oldLen","_lastParentsEpochs","newLen","util.removeFromArray","_update","_lastGlobalEpoch","util.unique","currentParentEpoch","parent_1","lastParentEpoch","types.DERIVATION","_","swap","lens","monoLensDescriptor","_lensDescriptor","atomically","descriptor","types.LENS","constructModule","config","deepUnpack","constructor","Object","util.keys","andOrFn","breakOn","identity","complement","defaultConfig","transactions.transact","defaultEquals","util.equals","util.setDebugMode","transactions.transaction","transactions.ticker","isAtom","isDerivation","isLensed","isReactor","Derivable","derivable.createPrototype","Mutable","mutable.createPrototype","Atom","atom.createPrototype","Derivation","derivation.createPrototype","Lens","lens.createPrototype","atom.construct","create","atomic","transactions.inTransaction","derivation.construct","parts","s","lens.construct","assign","unique","freeze","ATOM","DERIVATION","LENS","REACTOR","reactorParentStack","_lastValue","_lastEpoch","_force","nextValue","orphan","adopt","exports"],"mappings":"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","file":"dist/derivable.min.js.map"}